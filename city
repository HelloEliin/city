using System;
using System.Collections.Generic;
using System.Linq;




namespace City
{

    class City
    {

        public string name;
        public int degrees;

        public string Name
        {
            get { return name; }   // Name of City
            set { name = value; }
        }

        public int Degrees
        {
            get { return degrees; }   // Degrees of City
            set { degrees = value; }
        }

        public City(string name, int degrees)
        {
            this.name = name;        // Creates a City
            this.degrees = degrees;

        }

        public override string ToString()
        {
            return String.Format("name: {0}. degrees: {0}", name, degrees);

        }



        class Program
        {
            static List<City> cityList = new List<City>();   // List to store all the Cities in.


            public static void bubblesort(List<City> list)  // Bubblesorts the list with the lowest temp first.
            {
                int max = cityList.Count - 1;

                for (int i = 0; i < max; i++)
                {
                    int left = max - i;

                    for (int j = 0; j < left; j++)
                    {
                        if (cityList[j].degrees > cityList[j + 1].degrees)  // 
                        {
                            var temp = cityList[j];
                            cityList[j] = cityList[j + 1];
                            cityList[j + 1] = temp;
                        }

                    }
                    

                }
            }

              
            



            static int LinSok(int key)  // Search if a city has a special temp.
            {

                for (int i = 0; i < cityList.Count; i++)
                {
                    if (cityList[i].degrees == key)     
                    
                        return i;

                    }

                    return -1;
                }





            static int BinarySearch(List<City> list, int searchTemp, int first, int last) // Binary search for a specific temp.
            {
                
                int mid = (first + last) / 2;

                  if (cityList[mid].degrees == searchTemp)
                {

                    return mid;      // Temp found.
                }

                else if (cityList[mid].degrees > searchTemp)
                {
                            return BinarySearch(cityList, first, mid -1, searchTemp);  // Look at the lower part of list.
                        }


                else if (last < first)
                {
                    return -1;  //  Not found.
                }


                else
                {
                            return BinarySearch(cityList, mid + 1, last, searchTemp);  // Look at the higher part of list.
                        }

                    }



            static void HighestTemp(List<City> list)   // Prints out the citys with highest temp. I just reversed my list since
                                                      //my list is already sorted in the lowest degree. 
            {
                foreach (City city in cityList)         
                {
                    Console.WriteLine(city.Name + " with " + city.Degrees);
                }
                
                
            }

            static void HighestTemperature(List<City> list)
            {
                // Did this one still, since my list is sorted by the highest now
                // cityList[0] will always be the highest. Thats why I thought do a search was unessecary when I already know the answer.

                Console.WriteLine("The highest temp is " + cityList[0].Name + " with " + cityList[0].Degrees + " C.");


            }


            static void LowestTemperature(List<City> list)
            {
                // Same here. Since my list is sorted by the highest now,
                // cityList[3] will always be the city with the lowest temp.

                Console.WriteLine("The lowest temp is " + cityList[3].Name + " with " + cityList[3].Degrees + " C.");


            }


            static int FindHigh(List<City> list)
            {
                

        
            }
        

            static void Main(string[] args)
            {




                for (int i = 0; i < 4; i++)
                {

                    Console.WriteLine("City's name: ");
                    string name = Console.ReadLine();

                    Console.WriteLine("City's temperature: ");
                    int degrees = int.Parse(Console.ReadLine());

                    if (degrees >= -60 && degrees <= 60)
                    {
                        

                        cityList.Add(new City(name, degrees)); 

                    }


                    else
                    {
                        Console.WriteLine("Default. Only -60 to 60 degrees Celsius");
                    }
                }




                Console.WriteLine("Search for a city with a specific degree: ");
                int tempKey = int.Parse(Console.ReadLine());   // User inputs value to search for.  


                int index = LinSok(tempKey);      // Searching for the spec temp.

                if (index == -1)
 
                    {
                        Console.WriteLine("No matches found.");
                    }

                else
                {
                    foreach (City city in cityList)  // All cities with the searched temp will display.
                    {
                        if (city.degrees == tempKey)
                        {
                            Console.WriteLine(city.Name + " has the temperature of " + city.degrees + "C");
                        }
                    }
                }



                bubblesort(cityList);   

                Console.WriteLine("Here is all the cities ranked in the coldest one first: "); // Prints out the coldest city first.

                foreach (City city in cityList)
                {
                   
                        Console.WriteLine(city.Name + " has the temperature of " + city.Degrees + " C.");
                    
                }

              

                Console.WriteLine("Search for another city with a specific degree: ");
                int searchTemp = int.Parse(Console.ReadLine());  

                int first = 0;
                int last = cityList.Count - 1;

                int found = BinarySearch(cityList, searchTemp, last, first);  // Searches for the other value but in the BinaryMethod.


                if (found == -1)
                {
                    Console.WriteLine("No matches found.");
                }
                else
                {   foreach(City city in cityList)
                    {
                        if(city.degrees == searchTemp)
                        Console.WriteLine(city.Name + "has the temperature of " + city.degrees + "C");  
                    }
                    
                }


                Console.WriteLine("All the cities ranked with the highest temperature first: ");

                cityList.Reverse();  // My list is already sorted by the coldest temp, now I just reverse it to get the highest temp.

                HighestTemp(cityList);   



                Console.WriteLine("Now we will search for the highest temp");  // Here
                HighestTemperature(cityList);

                Console.WriteLine("The highest is " );
                FindHigh(cityList);








                }
        }
    }
}

