using System;
using System.Collections.Generic;
using System.Linq;




namespace City
{

    class City
    {

        public string name;
        public int degrees;

        public string Name
        {
            get { return name; }   // Egenskap namn
            set { name = value; }
        }

        public int Degrees
        {
            get { return degrees; }   // Egenskap temp
            set { degrees = value; }
        }

        public City(string name, int degrees)
        {
            this.name = name;
            this.degrees = degrees;

        }

        public override string ToString()
        {
            return String.Format("name: {0}. degrees: {0}", name, degrees);

        }



        class Program
        {
            static List<City> cityList = new List<City>();


            public static void bubblesort(List<City> list)  
            {
                int max = cityList.Count - 1;

                for (int i = 0; i < max; i++)
                {
                    int left = max - i;

                    for (int j = 0; j < left; j++)
                    {
                        if (cityList[j].degrees > cityList[j + 1].degrees)  // 
                        {
                            var temp = cityList[j];
                            cityList[j] = cityList[j + 1];
                            cityList[j + 1] = temp;
                        }

                    }
                    

                }
            }

              
            



            static int LinSok(int key) 
            {

                for (int i = 0; i < cityList.Count; i++)
                {
                    if (cityList[i].degrees == key)     
                    
                        return i;

                    }

                    return -1;
                }





            static int binarySearch(List<City> list, int searchTemp, int first, int last)
            {
                
                int mid = (first + last) / 2;

                  if (cityList[mid].degrees == searchTemp).  // Denna lilla sak=)
                {

                    return mid;      // Temp hittad
                }


                else if (first == last)
                    {
                        return -1;  //  Ej funnen
                    }


                else if (searchTemp < cityList[mid].degrees)
                {
                            return binarySearch(cityList, first, mid -1, searchTemp);  // Titta på nedre delen av listan
                        }

                else
                        {
                            return binarySearch(cityList, mid + 1, last, searchTemp);  // Titta på övdre delen av listan
                        }

                    }

                



            static void Main(string[] args)
            {




                for (int i = 0; i < 4; i++)
                {

                    Console.WriteLine("City's name: ");
                    string name = Console.ReadLine();

                    Console.WriteLine("City's temperature: ");
                    int degrees = int.Parse(Console.ReadLine());

                    if (degrees >= -60 && degrees <= 60)
                    {
                        

                        cityList.Add(new City(name, degrees)); // HÄÄÄÄÄE !!! Måste skapa staden, skicka in den till create city(eller?) o få den på listan?

                    }


                    else
                    {
                        Console.WriteLine("Default. Only -60 to 60 degrees Celsius");
                    }
                }






                Console.WriteLine("Search for a city with a specific degree: ");
                int tempKey = int.Parse(Console.ReadLine());     // key för sökningen 


                int index = LinSok(tempKey);

                if (index == -1)
 
                    {
                        Console.WriteLine("No matches found.");// Söka efter spec temp i metoden LinSok
                    }

                else
                {
                    foreach (City city in cityList)  // Alla städer som har den sökta temperaturen skrivs ut.
                    {
                        if (city.degrees == tempKey)
                        {
                            Console.WriteLine(city.Name + " has the temperature of " + city.degrees + "C");
                        }
                    }
                }



                bubblesort(cityList);   // Förblir listan sorterad?

                Console.WriteLine("Here is all the cities ranked in the coldest one first: ");

                foreach (City city in cityList)
                {
                   
                        Console.WriteLine(city.Name + " has the temperature of " + city.Degrees + " C.");
                    
                }

              

                Console.WriteLine("Search for another city with a specific degree: ");
                int searchTemp = int.Parse(Console.ReadLine());  

                int first = 0;
                int last = cityList.Count - 1;

                int found = binarySearch(cityList, searchTemp, last, first);


                if (found == -1)
                {
                    Console.WriteLine("No matches found.");
                }
                else
                {   foreach(City city in cityList)
                    {
                        if(city.degrees == searchTemp)
                        Console.WriteLine(city.Name + "has the temperature of " + city.degrees + "C");  // Skriv ut värde hittat
                    }
                    
                }

             















                }
        }
    }
}

